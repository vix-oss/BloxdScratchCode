# Bloxd.io 積木代碼編輯器

一個類似 Scratch 的視覺化編程工具，用於 Bloxd.io 遊戲。使用積木塊快速編寫 JavaScript 代碼，無需手動編寫複雜的語法。

## 功能特點

### 5 個主要類別

1. **事件 (Events)** - 玩家和實體事件
   - 玩家加入/離開
   - 玩家跳躍
   - 玩家聊天消息
   - 實體受傷

2. **動作 (Actions)** - 移動和交互
   - 施加衝擊（推動實體）
   - 設置/獲取位置
   - 廣播消息
   - 等待時間延遲

3. **生命值 (Health)** - 健康管理
   - 獲取/設置生命值
   - 施加傷害
   - 殺死實體

4. **盾牌 (Shield)** - 防禦系統
   - 獲取/設置盾牌值

5. **邏輯與控制 (Logic & Control)**
   - IF 條件判斷
   - WHILE 循環
   - FOR 循環
   - 比較運算符
   - 數學運算

### 其他功能

- **變數管理** - 創建和使用自定義變數
- **方塊操作** - 獲取和放置遊戲方塊
- **代碼生成** - 實時生成 JavaScript 代碼
- **響應式設計** - 適配各種屏幕尺寸
- **複製和下載** - 快速分享你的代碼

## 快速開始

### 安裝

1. 確保你已經有 Bloxd.io 遊戲
2. 打開 `index.html` 在瀏覽器中
3. 開始使用積木塊編程！

### 基本用法

1. **選擇代碼模式** - 選擇「世界代碼」或「代碼塊」
2. **拖拽積木** - 從左側工具箱拖拽積木到編輯區域
3. **連接積木** - 將積木相互連接
4. **配置參數** - 點擊積木更改參數值
5. **查看代碼** - 右側面板實時顯示生成的 JavaScript 代碼
6. **複製或下載** - 使用按鈕複製代碼到剪貼板或下載文件

## 積木塊詳細說明

### 事件積木

```
當玩家加入 → 執行代碼
當玩家離開 → 執行代碼
當玩家跳躍 → 執行代碼
當玩家發送消息 → 執行代碼
當實體受傷 → 執行代碼
```

### 動作積木

```
對 [實體] 施加衝擊 X: Y: Z:
設置 [實體] 的位置 X: Y: Z:
獲取 [實體] 的位置
廣播消息: [文本]
等待 [秒數] 秒
```

### 生命值積木

```
獲取 [實體] 的生命值
設置 [實體] 的生命值為 [數值]
對 [目標] 造成 [傷害] 傷害 (來自 [來源])
殺死 [實體] (來自 [來源])
```

### 盾牌積木

```
獲取 [實體] 的盾牌
設置 [實體] 的盾牌為 [數值]
```

### 邏輯積木

```
如果 [條件] 那麼 [執行]
當 [條件] 時重複 [執行]
重複 [次數] 次 [執行]
```

### 比較運算

```
[值A] 等於 [值B]
[值A] 大於 [值B]
[值A] 小於 [值B]
[條件A] AND [條件B]
[條件A] OR [條件B]
NOT [條件]
```

### 數學運算

```
[數A] + [數B]
[數A] - [數B]
[數A] * [數B]
[數A] / [數B]
隨機數 [最小] 到 [最大]
```

## 使用示例

### 例子 1: 玩家跳躍時向上推動

```javascript
當玩家跳躍 → 
  對 myId 施加衝擊 X: 0 Y: 20 Z: 0
```

### 例子 2: 條件判斷玩家生命值

```javascript
當玩家加入 →
  獲取 myId 的生命值
  如果 [生命值] 大於 10 那麼
    廣播消息: "生命值良好!"
```

### 例子 3: 循環傷害

```javascript
當玩家加入 →
  重複 5 次
    對 target 造成 5 傷害 (來自 myId)
    等待 0.5 秒
```

## 界面介紹

### 上方控制區
- **模式選擇** - 選擇世界代碼或代碼塊
- **產生代碼** - 實時編譯積木為 JavaScript
- **複製** - 將代碼複製到剪貼板
- **重置** - 清除所有積木重新開始

### 左側編輯區
- **積木工具箱** - 所有可用的積木塊
- **編輯畫布** - 拖拽積木進行編程

### 右側代碼輸出區
- **實時代碼預覽** - 查看生成的 JavaScript 代碼
- **下載按鈕** - 保存代碼到文件

## 🔧 API 參考

本工具基於 Bloxd.io 官方 API，支持以下主要函數：

- `api.applyImpulse(entity, x, y, z)` - 推動實體
- `api.setPosition(entity, x, y, z)` - 設置位置
- `api.getPosition(entity)` - 獲取位置
- `api.getHealth(entity)` - 獲取生命值
- `api.setHealth(entity, value)` - 設置生命值
- `api.broadcastMessage(text)` - 廣播消息
- 更多詳見 `code-api-main/API.md`

## 📝 文件結構

```
├── index.html              # 主頁面
├── js/
│   ├── blockly-blocks.js   # 積木塊定義和生成器
│   └── code-generator.js   # 進階代碼生成邏輯
├── css/
│   └── style.css          # 樣式表（內嵌在 HTML）
└── code-api-main/          # API 文檔參考
    ├── API.md
    ├── Blocks.md
    ├── Items.md
    └── ...
```

## 故障排除

### Q: 代碼無法生成？
A: 檢查你的積木連接是否正確。確保所有必填參數都已設置。

### Q: 代碼在遊戲中不工作？
A: 檢查生成的代碼是否符合 Bloxd.io API 語法。查閱 `code-api-main/API.md` 文檔。

### Q: 如何導入之前的代碼？
A: 目前工具不支持直接導入。你可以手動複製代碼到 Bloxd.io 編輯器。

## 貢獻

歡迎提交問題和改進建議！

## 許可證

基於 Bloxd.io 官方 API。

---

**提示**: 這是一個視覺編程工具，適合初學者學習 JavaScript 和 Bloxd.io API。對於複雜的腳本，你可能需要直接編寫 JavaScript 代碼。

祝你編程愉快！
